{"ast":null,"code":"var _jsxFileName = \"/home/waleed/Desktop/MintWebsites/House-Party/src/pages/HomePage/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { connect } from \"../../redux/blockchain/blockchainActions\";\nimport { connectWallet } from \"../../redux/blockchain/blockchainActions\";\nimport { fetchData } from \"./../../redux/data/dataActions\";\nimport { StyledRoundButton } from \"./../../components/styles/styledRoundButton.styled\";\nimport * as s from \"./../../styles/globalStyles\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Countdown from \"../../components/Countdown/Countdown\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst {\n  createAlchemyWeb3,\n  ethers\n} = require(\"@alch/alchemy-web3\");\n\nvar Web3 = require('web3');\n\nvar Contract = require('web3-eth-contract');\n\nfunction Home() {\n  _s();\n\n  let cost = 0;\n  const dispatch = useDispatch();\n  const blockchain = useSelector(state => state.blockchain);\n  const data = useSelector(state => state.data);\n  const [claimingNft, setClaimingNft] = useState(false);\n  const [mintDone, setMintDone] = useState(false);\n  const [supply, setTotalSupply] = useState(0);\n  const [feedback, setFeedback] = useState(\"\");\n  const [mintAmount, setMintAmount] = useState(1);\n  const [displayCost, setDisplayCost] = useState(cost);\n  const [show, setShow] = useState(false);\n  const [disable, setDisable] = useState(false);\n  const [canMint, setCanMint] = useState(-1);\n  const [pushArr, setPushArr] = useState([]);\n  let proof = [];\n  const [CONFIG, SET_CONFIG] = useState({\n    CONTRACT_ADDRESS: \"\",\n    SCAN_LINK: \"\",\n    NETWORK: {\n      NAME: \"\",\n      SYMBOL: \"\",\n      ID: 0\n    },\n    NFT_NAME: \"\",\n    SYMBOL: \"\",\n    MAX_SUPPLY: 1,\n    WEI_COST: 0,\n    DISPLAY_COST: 0,\n    GAS_LIMIT: 0,\n    MARKETPLACE: \"\",\n    MARKETPLACE_LINK: \"\",\n    SHOW_BACKGROUND: false\n  });\n\n  const claimNFTs = () => {\n    let cost = displayCost;\n    cost = Web3.utils.toWei(cost);\n    let gasLimit = CONFIG.GAS_LIMIT;\n    let totalCostWei = String(cost * mintAmount);\n    let totalGasLimit = String(gasLimit * mintAmount);\n    setFeedback(`Minting your ${CONFIG.NFT_NAME}`);\n    setClaimingNft(true);\n    setDisable(true);\n    console.log(pushArr);\n    blockchain.smartContract.methods.mint(pushArr, mintAmount).send({\n      gasLimit: String(totalGasLimit),\n      to: CONFIG.CONTRACT_ADDRESS,\n      from: blockchain.account,\n      value: totalCostWei\n    }).once(\"error\", err => {\n      console.log(err);\n      setFeedback(\"Sorry, something went wrong please try again later.\");\n      setClaimingNft(false);\n    }).then(receipt => {\n      setMintDone(true);\n      setFeedback(`Congratulations! You have successfully Minted a VCR NFT!`);\n      setClaimingNft(false);\n      blockchain.smartContract.methods.totalSupply().call().then(res => {\n        setTotalSupply(res);\n      });\n      dispatch(fetchData(blockchain.account));\n    });\n  };\n\n  const getDataWithoutWallet = async () => {\n    const web3 = createAlchemyWeb3(\"https://eth-mainnet.alchemyapi.io/v2/EDLW4rQqMI3LEJUWifxT04jTycowEQNU\");\n    const abiResponse = await fetch(\"/config/abi.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    });\n    const abi = await abiResponse.json();\n    console.log(CONFIG.CONTRACT_ADDRESS);\n    var contract = new Contract(abi, CONFIG.CONTRACT_ADDRESS);\n    contract.setProvider(web3.currentProvider);\n    const salesConfig = await contract.methods.saleConfig().call();\n    setDisplayCost(Web3.utils.fromWei(salesConfig.mintlistPrice));\n    const totalSupply = await contract.methods.totalSupply().call();\n    setTotalSupply(totalSupply);\n  };\n\n  const getData = async () => {\n    if (blockchain.account !== \"\" && blockchain.smartContract !== null) {\n      dispatch(fetchData(blockchain.account));\n      await axios.get(`https://vipcardroom.com/api/whitelist/key?address=${blockchain.account}`).then(res => {\n        console.log(res.data.data.proof);\n\n        if (res.data.code === 0) {\n          setCanMint(0);\n        } else {\n          let result = res.data.data.proof;\n          console.log(result);\n          proof = result;\n          setPushArr(proof);\n          setCanMint(1);\n          console.log({\n            pushArr\n          });\n          console.log({\n            canMint\n          });\n        }\n      });\n    }\n  };\n\n  const getConfig = async () => {\n    const configResponse = await fetch(\"/config/config.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    });\n    const config = await configResponse.json();\n    SET_CONFIG(config);\n  };\n\n  useEffect(() => {\n    getConfig();\n    getDataWithoutWallet();\n  }, []);\n  useEffect(() => {\n    getData();\n  }, [blockchain.account]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(s.Body, {\n      children: [/*#__PURE__*/_jsxDEV(s.FlexContainer, {\n        jc: \"space-evenly\",\n        ai: \"center\",\n        fd: \"row\",\n        mt: \"20vh\",\n        children: /*#__PURE__*/_jsxDEV(s.Mint, {\n          children: [/*#__PURE__*/_jsxDEV(s.TextTitle, {\n            size: 2.0,\n            children: CONFIG.NFT_NAME\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.TextSubTitle, {\n            size: 1.4,\n            children: [CONFIG.MAX_SUPPLY - supply, \" of \", CONFIG.MAX_SUPPLY, \" NFT's Available\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerSmall, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.FlexContainer, {\n            fd: \"row\",\n            ai: \"center\",\n            jc: \"space-between\",\n            children: [/*#__PURE__*/_jsxDEV(s.TextTitle, {\n              children: \"Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(s.AmountContainer, {\n              ai: \"center\",\n              jc: \"center\",\n              fd: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(StyledRoundButton, {\n                style: {\n                  lineHeight: 0.4\n                },\n                disabled: claimingNft ? 1 : 0,\n                onClick: e => {\n                  e.preventDefault();\n                  decrementMintAmount();\n                },\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(s.SpacerMedium, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(s.TextDescription, {\n                color: \"#dbac36\",\n                size: \"2.5rem\",\n                children: mintAmount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(s.SpacerMedium, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(StyledRoundButton, {\n                disabled: claimingNft ? 1 : 0,\n                onClick: e => {\n                  e.preventDefault();\n                  incrementMintAmount();\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(s.maxButton, {\n              style: {\n                cursor: \"pointer\"\n              },\n              onClick: e => {\n                e.preventDefault();\n                maxNfts();\n              },\n              children: \"Max\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.Line, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(s.FlexContainer, {\n            fd: \"row\",\n            ai: \"center\",\n            jc: \"space-between\",\n            children: [/*#__PURE__*/_jsxDEV(s.TextTitle, {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(s.TextTitle, {\n              color: \"#dbac36\",\n              children: displayCost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerSmall, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(s.Line, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerSmall, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), blockchain.account !== \"\" && blockchain.smartContract !== null && blockchain.errorMsg === \"\" && canMint === 1 ? /*#__PURE__*/_jsxDEV(s.Container, {\n            ai: \"center\",\n            jc: \"center\",\n            fd: \"column\",\n            children: [/*#__PURE__*/_jsxDEV(s.connectButton, {\n              disabled: disable,\n              style: {\n                textAlign: \"center\",\n                color: \"#fff\",\n                cursor: \"pointer\",\n                fontWeight: \"bolder\"\n              },\n              onClick: e => {\n                e.preventDefault();\n                claimNFTs();\n                getData();\n              },\n              children: [\" \", claimingNft ? \"Confirm Transaction in Wallet\" : \"Mint here NOW\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(s.TextTitle, {\n              size: \"1.5\",\n              children: [mintDone ? feedback : \"\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(s.connectButton, {\n              style: {\n                textAlign: \"center\",\n                color: \"#fff\",\n                cursor: \"pointer\",\n                fontWeight: \"bolder\"\n              },\n              onClick: e => {\n                e.preventDefault();\n                dispatch(connectWallet());\n                getData();\n              },\n              children: canMint === -1 ? \"Connect Your Wallet\" : \"Sorry, you are not authorised to mint\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this)\n          }, void 0, false), /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), blockchain.errorMsg !== \"\" ? /*#__PURE__*/_jsxDEV(s.connectButton, {\n            style: {\n              textAlign: \"center\",\n              color: \"#fff\",\n              cursor: \"pointer\"\n            },\n            children: blockchain.errorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(s.SpacerLarge, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Home, \"ZjDO6Gxu7G4Fx8BnM2cHHZ3phl0=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/waleed/Desktop/MintWebsites/House-Party/src/pages/HomePage/Home.js"],"names":["React","useEffect","useState","useRef","useDispatch","useSelector","connect","connectWallet","fetchData","StyledRoundButton","s","Navbar","Countdown","axios","createAlchemyWeb3","ethers","require","Web3","Contract","Home","cost","dispatch","blockchain","state","data","claimingNft","setClaimingNft","mintDone","setMintDone","supply","setTotalSupply","feedback","setFeedback","mintAmount","setMintAmount","displayCost","setDisplayCost","show","setShow","disable","setDisable","canMint","setCanMint","pushArr","setPushArr","proof","CONFIG","SET_CONFIG","CONTRACT_ADDRESS","SCAN_LINK","NETWORK","NAME","SYMBOL","ID","NFT_NAME","MAX_SUPPLY","WEI_COST","DISPLAY_COST","GAS_LIMIT","MARKETPLACE","MARKETPLACE_LINK","SHOW_BACKGROUND","claimNFTs","utils","toWei","gasLimit","totalCostWei","String","totalGasLimit","console","log","smartContract","methods","mint","send","to","from","account","value","once","err","then","receipt","totalSupply","call","res","getDataWithoutWallet","web3","abiResponse","fetch","headers","Accept","abi","json","contract","setProvider","currentProvider","salesConfig","saleConfig","fromWei","mintlistPrice","getData","get","code","result","getConfig","configResponse","config","lineHeight","e","preventDefault","decrementMintAmount","incrementMintAmount","cursor","maxNfts","errorMsg","textAlign","color","fontWeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,0CAAxB;AACA,SAASC,aAAT,QAA8B,0CAA9B;AACA,SAASC,SAAT,QAA0B,gCAA1B;AACA,SAASC,iBAAT,QAAkC,oDAAlC;AACA,OAAO,KAAKC,CAAZ,MAAmB,6BAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAM;AAAEC,EAAAA,iBAAF;AAAqBC,EAAAA;AAArB,IAAgCC,OAAO,CAAC,oBAAD,CAA7C;;AAEA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,QAAQ,GAAGF,OAAO,CAAC,mBAAD,CAAtB;;AAEA,SAASG,IAAT,GAAgB;AAAA;;AACd,MAAIC,IAAI,GAAG,CAAX;AACA,QAAMC,QAAQ,GAAGjB,WAAW,EAA5B;AACA,QAAMkB,UAAU,GAAGjB,WAAW,CAAEkB,KAAD,IAAWA,KAAK,CAACD,UAAlB,CAA9B;AACA,QAAME,IAAI,GAAGnB,WAAW,CAAEkB,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAxB;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCxB,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAAC2B,MAAD,EAASC,cAAT,IAA2B5B,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAM,CAAC6B,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC+B,UAAD,EAAaC,aAAb,IAA8BhC,QAAQ,CAAC,CAAD,CAA5C;AACA,QAAM,CAACiC,WAAD,EAAcC,cAAd,IAAgClC,QAAQ,CAACkB,IAAD,CAA9C;AACA,QAAM,CAACiB,IAAD,EAAOC,OAAP,IAAkBpC,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACqC,OAAD,EAAUC,UAAV,IAAwBtC,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACuC,OAAD,EAAUC,UAAV,IAAwBxC,QAAQ,CAAC,CAAC,CAAF,CAAtC;AACA,QAAM,CAACyC,OAAD,EAAWC,UAAX,IAAyB1C,QAAQ,CAAC,EAAD,CAAvC;AACA,MAAI2C,KAAK,GAAG,EAAZ;AACA,QAAM,CAACC,MAAD,EAASC,UAAT,IAAuB7C,QAAQ,CAAC;AACpC8C,IAAAA,gBAAgB,EAAE,EADkB;AAEpCC,IAAAA,SAAS,EAAE,EAFyB;AAGpCC,IAAAA,OAAO,EAAE;AACPC,MAAAA,IAAI,EAAE,EADC;AAEPC,MAAAA,MAAM,EAAE,EAFD;AAGPC,MAAAA,EAAE,EAAE;AAHG,KAH2B;AAQpCC,IAAAA,QAAQ,EAAE,EAR0B;AASpCF,IAAAA,MAAM,EAAE,EAT4B;AAUpCG,IAAAA,UAAU,EAAE,CAVwB;AAWpCC,IAAAA,QAAQ,EAAE,CAX0B;AAYpCC,IAAAA,YAAY,EAAE,CAZsB;AAapCC,IAAAA,SAAS,EAAE,CAbyB;AAcpCC,IAAAA,WAAW,EAAE,EAduB;AAepCC,IAAAA,gBAAgB,EAAE,EAfkB;AAgBpCC,IAAAA,eAAe,EAAE;AAhBmB,GAAD,CAArC;;AAmBA,QAAMC,SAAS,GAAG,MAAM;AACtB,QAAI1C,IAAI,GAAGe,WAAX;AACAf,IAAAA,IAAI,GAAGH,IAAI,CAAC8C,KAAL,CAAWC,KAAX,CAAiB5C,IAAjB,CAAP;AAEA,QAAI6C,QAAQ,GAAGnB,MAAM,CAACY,SAAtB;AACA,QAAIQ,YAAY,GAAGC,MAAM,CAAC/C,IAAI,GAAGa,UAAR,CAAzB;AACA,QAAImC,aAAa,GAAGD,MAAM,CAACF,QAAQ,GAAGhC,UAAZ,CAA1B;AACAD,IAAAA,WAAW,CAAE,gBAAec,MAAM,CAACQ,QAAS,EAAjC,CAAX;AACA5B,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAc,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA6B,IAAAA,OAAO,CAACC,GAAR,CAAY3B,OAAZ;AACArB,IAAAA,UAAU,CAACiD,aAAX,CAAyBC,OAAzB,CACGC,IADH,CACQ9B,OADR,EACgBV,UADhB,EAEGyC,IAFH,CAEQ;AACJT,MAAAA,QAAQ,EAAEE,MAAM,CAACC,aAAD,CADZ;AAEJO,MAAAA,EAAE,EAAE7B,MAAM,CAACE,gBAFP;AAGJ4B,MAAAA,IAAI,EAAEtD,UAAU,CAACuD,OAHb;AAIJC,MAAAA,KAAK,EAAEZ;AAJH,KAFR,EAQGa,IARH,CAQQ,OARR,EAQkBC,GAAD,IAAS;AACtBX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACAhD,MAAAA,WAAW,CAAC,qDAAD,CAAX;AACAN,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAZH,EAaGuD,IAbH,CAaSC,OAAD,IAAa;AACjBtD,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAI,MAAAA,WAAW,CAAE,0DAAF,CAAX;AACAN,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAJ,MAAAA,UAAU,CAACiD,aAAX,CAAyBC,OAAzB,CACGW,WADH,GAEGC,IAFH,GAGGH,IAHH,CAGSI,GAAD,IAAS;AACbvD,QAAAA,cAAc,CAACuD,GAAD,CAAd;AACD,OALH;AAOAhE,MAAAA,QAAQ,CAACb,SAAS,CAACc,UAAU,CAACuD,OAAZ,CAAV,CAAR;AACD,KAzBH;AA0BD,GArCD;;AAwCA,QAAMS,oBAAoB,GAAG,YAAW;AACtC,UAAMC,IAAI,GAAGzE,iBAAiB,CAAC,uEAAD,CAA9B;AACA,UAAM0E,WAAW,GAAG,MAAMC,KAAK,CAAC,kBAAD,EAAqB;AAClDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE;AAFD;AADyC,KAArB,CAA/B;AAMA,UAAMC,GAAG,GAAG,MAAMJ,WAAW,CAACK,IAAZ,EAAlB;AACAxB,IAAAA,OAAO,CAACC,GAAR,CAAYxB,MAAM,CAACE,gBAAnB;AACA,QAAI8C,QAAQ,GAAG,IAAI5E,QAAJ,CAAa0E,GAAb,EAAkB9C,MAAM,CAACE,gBAAzB,CAAf;AACA8C,IAAAA,QAAQ,CAACC,WAAT,CAAqBR,IAAI,CAACS,eAA1B;AACA,UAAMC,WAAW,GAAG,MAAMH,QAAQ,CAACtB,OAAT,CAAiB0B,UAAjB,GAA8Bd,IAA9B,EAA1B;AACAhD,IAAAA,cAAc,CAACnB,IAAI,CAAC8C,KAAL,CAAWoC,OAAX,CAAmBF,WAAW,CAACG,aAA/B,CAAD,CAAd;AACA,UAAMjB,WAAW,GAAG,MAAMW,QAAQ,CAACtB,OAAT,CACzBW,WADyB,GAEzBC,IAFyB,EAA1B;AAGAtD,IAAAA,cAAc,CAACqD,WAAD,CAAd;AACC,GAlBH;;AAoBA,QAAMkB,OAAO,GAAG,YAAY;AAC1B,QAAI/E,UAAU,CAACuD,OAAX,KAAuB,EAAvB,IAA6BvD,UAAU,CAACiD,aAAX,KAA6B,IAA9D,EAAoE;AAClElD,MAAAA,QAAQ,CAACb,SAAS,CAACc,UAAU,CAACuD,OAAZ,CAAV,CAAR;AACA,YAAMhE,KAAK,CAACyF,GAAN,CAAW,qDAAoDhF,UAAU,CAACuD,OAAQ,EAAlF,EACLI,IADK,CACAI,GAAG,IAAI;AACXhB,QAAAA,OAAO,CAACC,GAAR,CAAYe,GAAG,CAAC7D,IAAJ,CAASA,IAAT,CAAcqB,KAA1B;;AACA,YAAGwC,GAAG,CAAC7D,IAAJ,CAAS+E,IAAT,KAAkB,CAArB,EAAuB;AACrB7D,UAAAA,UAAU,CAAC,CAAD,CAAV;AACD,SAFD,MAEK;AACH,cAAI8D,MAAM,GAAGnB,GAAG,CAAC7D,IAAJ,CAASA,IAAT,CAAcqB,KAA3B;AACAwB,UAAAA,OAAO,CAACC,GAAR,CAAYkC,MAAZ;AACA3D,UAAAA,KAAK,GAAG2D,MAAR;AACA5D,UAAAA,UAAU,CAACC,KAAD,CAAV;AACAH,UAAAA,UAAU,CAAC,CAAD,CAAV;AACA2B,UAAAA,OAAO,CAACC,GAAR,CAAY;AAAC3B,YAAAA;AAAD,WAAZ;AACA0B,UAAAA,OAAO,CAACC,GAAR,CAAY;AAAC7B,YAAAA;AAAD,WAAZ;AACD;AACF,OAdK,CAAN;AAgBD;AACF,GApBD;;AAsBA,QAAMgE,SAAS,GAAG,YAAY;AAC5B,UAAMC,cAAc,GAAG,MAAMjB,KAAK,CAAC,qBAAD,EAAwB;AACxDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE;AAFD;AAD+C,KAAxB,CAAlC;AAMA,UAAMgB,MAAM,GAAG,MAAMD,cAAc,CAACb,IAAf,EAArB;AACA9C,IAAAA,UAAU,CAAC4D,MAAD,CAAV;AACD,GATD;;AAWA1G,EAAAA,SAAS,CAAC,MAAM;AACdwG,IAAAA,SAAS;AACTnB,IAAAA,oBAAoB;AACrB,GAHQ,EAGN,EAHM,CAAT;AAKArF,EAAAA,SAAS,CAAC,MAAM;AACdoG,IAAAA,OAAO;AACR,GAFQ,EAEN,CAAC/E,UAAU,CAACuD,OAAZ,CAFM,CAAT;AAMA,sBACE;AAAA,2BAEE,QAAC,CAAD,CAAG,IAAH;AAAA,8BACE,QAAC,CAAD,CAAG,aAAH;AACE,QAAA,EAAE,EAAE,cADN;AAEE,QAAA,EAAE,EAAE,QAFN;AAGE,QAAA,EAAE,EAAE,KAHN;AAIE,QAAA,EAAE,EAAE,MAJN;AAAA,+BAME,QAAC,CAAD,CAAG,IAAH;AAAA,kCACE,QAAC,CAAD,CAAG,SAAH;AAAa,YAAA,IAAI,EAAE,GAAnB;AAAA,sBACG/B,MAAM,CAACQ;AADV;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,CAAD,CAAG,YAAH;AAAgB,YAAA,IAAI,EAAE,GAAtB;AAAA,uBAA4BR,MAAM,CAACS,UAAP,GAAkB1B,MAA9C,UAA0DiB,MAAM,CAACS,UAAjE;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBALF,eAME,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBANF,eAQE,QAAC,CAAD,CAAG,aAAH;AAAiB,YAAA,EAAE,EAAE,KAArB;AAA4B,YAAA,EAAE,EAAE,QAAhC;AAA0C,YAAA,EAAE,EAAE,eAA9C;AAAA,oCACA,QAAC,CAAD,CAAG,SAAH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA,QAAC,CAAD,CAAG,eAAH;AAAmB,cAAA,EAAE,EAAE,QAAvB;AAAiC,cAAA,EAAE,EAAE,QAArC;AAA+C,cAAA,EAAE,EAAE,KAAnD;AAAA,sCACE,QAAC,iBAAD;AACE,gBAAA,KAAK,EAAE;AAAEqD,kBAAAA,UAAU,EAAE;AAAd,iBADT;AAEE,gBAAA,QAAQ,EAAEnF,WAAW,GAAG,CAAH,GAAO,CAF9B;AAGE,gBAAA,OAAO,EAAGoF,CAAD,IAAO;AACdA,kBAAAA,CAAC,CAACC,cAAF;AACAC,kBAAAA,mBAAmB;AACpB,iBANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE,QAAC,CAAD,CAAG,YAAH;AAAA;AAAA;AAAA;AAAA,sBAXF,eAYE,QAAC,CAAD,CAAG,eAAH;AAAmB,gBAAA,KAAK,EAAE,SAA1B;AAAqC,gBAAA,IAAI,EAAE,QAA3C;AAAA,0BACG9E;AADH;AAAA;AAAA;AAAA;AAAA,sBAZF,eAeE,QAAC,CAAD,CAAG,YAAH;AAAA;AAAA;AAAA;AAAA,sBAfF,eAgBE,QAAC,iBAAD;AACE,gBAAA,QAAQ,EAAER,WAAW,GAAG,CAAH,GAAO,CAD9B;AAEE,gBAAA,OAAO,EAAGoF,CAAD,IAAO;AACdA,kBAAAA,CAAC,CAACC,cAAF;AACAE,kBAAAA,mBAAmB;AACpB,iBALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA,eA4BA,QAAC,CAAD,CAAG,SAAH;AACA,cAAA,KAAK,EAAE;AAACC,gBAAAA,MAAM,EAAC;AAAR,eADP;AAEE,cAAA,OAAO,EAAGJ,CAAD,IAAO;AACdA,gBAAAA,CAAC,CAACC,cAAF;AACAI,gBAAAA,OAAO;AACR,eALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBA5BA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eA8CE,QAAC,CAAD,CAAG,IAAH;AAAA;AAAA;AAAA;AAAA,kBA9CF,eA+CA,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBA/CA,eAgDA,QAAC,CAAD,CAAG,aAAH;AAAiB,YAAA,EAAE,EAAE,KAArB;AAA4B,YAAA,EAAE,EAAE,QAAhC;AAA0C,YAAA,EAAE,EAAE,eAA9C;AAAA,oCACE,QAAC,CAAD,CAAG,SAAH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,CAAD,CAAG,SAAH;AAAa,cAAA,KAAK,EAAE,SAApB;AAAA,wBAAgC/E;AAAhC;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhDA,eAoDA,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBApDA,eAqDA,QAAC,CAAD,CAAG,IAAH;AAAA;AAAA;AAAA;AAAA,kBArDA,eAsDA,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBAtDA,eAuDE,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBAvDF,EAyDGb,UAAU,CAACuD,OAAX,KAAuB,EAAvB,IAA6BvD,UAAU,CAACiD,aAAX,KAA6B,IAA1D,IAAkEjD,UAAU,CAAC6F,QAAX,KAAwB,EAA1F,IACE1E,OAAO,KAAK,CADd,gBAGC,QAAC,CAAD,CAAG,SAAH;AAAa,YAAA,EAAE,EAAE,QAAjB;AAA2B,YAAA,EAAE,EAAE,QAA/B;AAAyC,YAAA,EAAE,EAAE,QAA7C;AAAA,oCACE,QAAC,CAAD,CAAG,aAAH;AACE,cAAA,QAAQ,EAAEF,OADZ;AAEE,cAAA,KAAK,EAAE;AACL6E,gBAAAA,SAAS,EAAE,QADN;AAELC,gBAAAA,KAAK,EAAE,MAFF;AAGLJ,gBAAAA,MAAM,EAAE,SAHH;AAILK,gBAAAA,UAAU,EAAC;AAJN,eAFT;AAQE,cAAA,OAAO,EAAGT,CAAD,IAAO;AACdA,gBAAAA,CAAC,CAACC,cAAF;AACAhD,gBAAAA,SAAS;AACTuC,gBAAAA,OAAO;AACR,eAZH;AAAA,yBAcG,GAdH,EAeG5E,WAAW,GAAG,+BAAH,GAAqC,eAfnD,EAeoE,GAfpE;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAmBqB,GAnBrB,eAoBC,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,oBApBD,eAqBE,QAAC,CAAD,CAAG,SAAH;AAAa,cAAA,IAAI,EAAE,KAAnB;AAAA,yBACCE,QAAQ,GAAGI,QAAH,GAAc,EADvB,EAC2B,GAD3B;AAAA;AAAA;AAAA;AAAA;AAAA,oBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHD,gBA8BC;AAAA,mCACE,QAAC,CAAD,CAAG,aAAH;AACE,cAAA,KAAK,EAAE;AACLqF,gBAAAA,SAAS,EAAE,QADN;AAELC,gBAAAA,KAAK,EAAE,MAFF;AAGLJ,gBAAAA,MAAM,EAAE,SAHH;AAILK,gBAAAA,UAAU,EAAC;AAJN,eADT;AAQE,cAAA,OAAO,EAAGT,CAAD,IAAO;AACdA,gBAAAA,CAAC,CAACC,cAAF;AACAzF,gBAAAA,QAAQ,CAACd,aAAa,EAAd,CAAR;AACA8F,gBAAAA,OAAO;AACR,eAZH;AAAA,wBAcG5D,OAAO,KAAK,CAAC,CAAb,GAAiB,qBAAjB,GAAyC;AAd5C;AAAA;AAAA;AAAA;AAAA;AADF,2BAvFJ,eA4GE,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,kBA5GF,EA6GGnB,UAAU,CAAC6F,QAAX,KAAwB,EAAxB,gBACC,QAAC,CAAD,CAAG,aAAH;AACE,YAAA,KAAK,EAAE;AACLC,cAAAA,SAAS,EAAE,QADN;AAELC,cAAAA,KAAK,EAAE,MAFF;AAGLJ,cAAAA,MAAM,EAAE;AAHH,aADT;AAAA,sBAOG3F,UAAU,CAAC6F;AAPd;AAAA;AAAA;AAAA;AAAA,kBADD,GAWC,EAxHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,cADF,eAoIE,QAAC,CAAD,CAAG,WAAH;AAAA;AAAA;AAAA;AAAA,cApIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF,mBADF;AA4ID;;GAvRQhG,I;UAEUf,W,EACEC,W,EACNA,W;;;KAJNc,I;AAyRT,eAAeA,IAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { connect } from \"../../redux/blockchain/blockchainActions\";\nimport { connectWallet } from \"../../redux/blockchain/blockchainActions\";\nimport { fetchData } from \"./../../redux/data/dataActions\";\nimport { StyledRoundButton } from \"./../../components/styles/styledRoundButton.styled\";\nimport * as s from \"./../../styles/globalStyles\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Countdown from \"../../components/Countdown/Countdown\";\nimport axios from 'axios';\n\nconst { createAlchemyWeb3, ethers } = require(\"@alch/alchemy-web3\");\n\nvar Web3 = require('web3');\nvar Contract = require('web3-eth-contract');\n\nfunction Home() {\n  let cost = 0;\n  const dispatch = useDispatch();\n  const blockchain = useSelector((state) => state.blockchain);\n  const data = useSelector((state) => state.data);\n  const [claimingNft, setClaimingNft] = useState(false);\n  const [mintDone, setMintDone] = useState(false);\n  const [supply, setTotalSupply] = useState(0);\n  const [feedback, setFeedback] = useState(\"\");\n  const [mintAmount, setMintAmount] = useState(1);\n  const [displayCost, setDisplayCost] = useState(cost);\n  const [show, setShow] = useState(false);\n  const [disable, setDisable] = useState(false);\n  const [canMint, setCanMint] = useState(-1);\n  const [pushArr , setPushArr] = useState([]);\n  let proof = [];\n  const [CONFIG, SET_CONFIG] = useState({\n    CONTRACT_ADDRESS: \"\",\n    SCAN_LINK: \"\",\n    NETWORK: {\n      NAME: \"\",\n      SYMBOL: \"\",\n      ID: 0,\n    },\n    NFT_NAME: \"\",\n    SYMBOL: \"\",\n    MAX_SUPPLY: 1,\n    WEI_COST: 0,\n    DISPLAY_COST: 0,\n    GAS_LIMIT: 0,\n    MARKETPLACE: \"\",\n    MARKETPLACE_LINK: \"\",\n    SHOW_BACKGROUND: false,\n  });\n\n  const claimNFTs = () => {\n    let cost = displayCost;\n    cost = Web3.utils.toWei(cost);\n\n    let gasLimit = CONFIG.GAS_LIMIT;\n    let totalCostWei = String(cost * mintAmount);\n    let totalGasLimit = String(gasLimit * mintAmount);\n    setFeedback(`Minting your ${CONFIG.NFT_NAME}`);\n    setClaimingNft(true);\n    setDisable(true);\n    console.log(pushArr);\n    blockchain.smartContract.methods\n      .mint(pushArr,mintAmount)\n      .send({\n        gasLimit: String(totalGasLimit),\n        to: CONFIG.CONTRACT_ADDRESS,\n        from: blockchain.account,\n        value: totalCostWei,\n      })\n      .once(\"error\", (err) => {\n        console.log(err);\n        setFeedback(\"Sorry, something went wrong please try again later.\");\n        setClaimingNft(false);\n      })\n      .then((receipt) => {\n        setMintDone(true);\n        setFeedback(`Congratulations! You have successfully Minted a VCR NFT!`);\n        setClaimingNft(false);\n        blockchain.smartContract.methods\n          .totalSupply()\n          .call()\n          .then((res) => {\n            setTotalSupply(res);\n          });\n\n        dispatch(fetchData(blockchain.account));\n      });\n  };\n\n\n  const getDataWithoutWallet = async() => {\n    const web3 = createAlchemyWeb3(\"https://eth-mainnet.alchemyapi.io/v2/EDLW4rQqMI3LEJUWifxT04jTycowEQNU\");\n    const abiResponse = await fetch(\"/config/abi.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    });\n    const abi = await abiResponse.json();\n    console.log(CONFIG.CONTRACT_ADDRESS);\n    var contract = new Contract(abi, CONFIG.CONTRACT_ADDRESS); \n    contract.setProvider(web3.currentProvider);\n    const salesConfig = await contract.methods.saleConfig().call();\n    setDisplayCost(Web3.utils.fromWei(salesConfig.mintlistPrice));\n    const totalSupply = await contract.methods\n    .totalSupply()\n    .call();\n    setTotalSupply(totalSupply);\n    }\n\n  const getData = async () => {\n    if (blockchain.account !== \"\" && blockchain.smartContract !== null) {\n      dispatch(fetchData(blockchain.account));\n      await axios.get(`https://vipcardroom.com/api/whitelist/key?address=${blockchain.account}`)\n      .then(res => {\n        console.log(res.data.data.proof);\n        if(res.data.code === 0){\n          setCanMint(0);\n        }else{\n          let result = res.data.data.proof;\n          console.log(result);\n          proof = result;\n          setPushArr(proof);\n          setCanMint(1);\n          console.log({pushArr});\n          console.log({canMint});\n        }\n      });\n     \n    }\n  };\n\n  const getConfig = async () => {\n    const configResponse = await fetch(\"/config/config.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      },\n    });\n    const config = await configResponse.json();\n    SET_CONFIG(config);\n  };\n\n  useEffect(() => {\n    getConfig();\n    getDataWithoutWallet();\n  }, []);\n\n  useEffect(() => {\n    getData();\n  }, [blockchain.account]);\n\n \n\n  return (\n    <>\n\n      <s.Body>\n        <s.FlexContainer\n          jc={\"space-evenly\"}\n          ai={\"center\"}\n          fd={\"row\"}\n          mt={\"20vh\"}\n        >\n          <s.Mint>\n            <s.TextTitle size={2.0}>\n              {CONFIG.NFT_NAME}\n            </s.TextTitle>\n            <s.TextSubTitle size={1.4}>{CONFIG.MAX_SUPPLY-supply} of {CONFIG.MAX_SUPPLY} NFT's Available</s.TextSubTitle>\n            <s.SpacerSmall />\n            <s.SpacerLarge />\n\n            <s.FlexContainer fd={\"row\"} ai={\"center\"} jc={\"space-between\"}>\n            <s.TextTitle>Amount</s.TextTitle>\n            <s.AmountContainer ai={\"center\"} jc={\"center\"} fd={\"row\"}>\n              <StyledRoundButton\n                style={{ lineHeight: 0.4 }}\n                disabled={claimingNft ? 1 : 0}\n                onClick={(e) => {\n                  e.preventDefault();\n                  decrementMintAmount();\n                }}\n              >\n                -\n              </StyledRoundButton>\n              <s.SpacerMedium />\n              <s.TextDescription color={\"#dbac36\"} size={\"2.5rem\"}>\n                {mintAmount}\n              </s.TextDescription>\n              <s.SpacerMedium />\n              <StyledRoundButton\n                disabled={claimingNft ? 1 : 0}\n                onClick={(e) => {\n                  e.preventDefault();\n                  incrementMintAmount();\n                }}\n              >\n                +\n              </StyledRoundButton>\n            </s.AmountContainer>\n            <s.maxButton\n            style={{cursor:\"pointer\"}}\n              onClick={(e) => {\n                e.preventDefault();\n                maxNfts();\n              }}\n            >\n              Max\n            </s.maxButton>\n            </s.FlexContainer>\n            <s.Line />\n          <s.SpacerLarge />\n          <s.FlexContainer fd={\"row\"} ai={\"center\"} jc={\"space-between\"}>\n            <s.TextTitle>Total</s.TextTitle>\n            <s.TextTitle color={\"#dbac36\"}>{displayCost}</s.TextTitle>\n          </s.FlexContainer>\n          <s.SpacerSmall />\n          <s.Line />\n          <s.SpacerSmall />\n            <s.SpacerLarge />\n\n            {blockchain.account !== \"\" && blockchain.smartContract !== null && blockchain.errorMsg === \"\"\n            && canMint === 1\n            ? (\n              <s.Container ai={\"center\"} jc={\"center\"} fd={\"column\"}>\n                <s.connectButton\n                  disabled={disable}\n                  style={{\n                    textAlign: \"center\",\n                    color: \"#fff\",\n                    cursor: \"pointer\",\n                    fontWeight:\"bolder\"\n                  }}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    claimNFTs();\n                    getData();\n                  }}\n                >\n                  {\" \"}\n                  {claimingNft ? \"Confirm Transaction in Wallet\" : \"Mint here NOW\"}{\" \"}\n                \n                \n                </s.connectButton>{\" \"}\n               <s.SpacerLarge></s.SpacerLarge>\n                <s.TextTitle size={\"1.5\"}>\n                {mintDone ? feedback : \"\"}{\" \"}\n\n                </s.TextTitle>\n              </s.Container>\n            ) : (\n              <>\n                <s.connectButton\n                  style={{\n                    textAlign: \"center\",\n                    color: \"#fff\",\n                    cursor: \"pointer\",\n                    fontWeight:\"bolder\"\n                  }}\n                  \n                  onClick={(e) => {\n                    e.preventDefault();\n                    dispatch(connectWallet());\n                    getData();\n                  }}\n                >\n                  {canMint === -1 ? \"Connect Your Wallet\" : \"Sorry, you are not authorised to mint\"}\n                </s.connectButton>\n                {/* ) : (\"\")} */}\n              </>\n\n            )}\n            <s.SpacerLarge />\n            {blockchain.errorMsg !== \"\" ? (\n              <s.connectButton\n                style={{\n                  textAlign: \"center\",\n                  color: \"#fff\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {blockchain.errorMsg}\n              </s.connectButton>\n            ) : (\n              \"\"\n\n            )}\n          </s.Mint>\n        </s.FlexContainer>\n        <s.SpacerLarge />\n      </s.Body>\n\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}